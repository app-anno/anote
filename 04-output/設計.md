## ディレクトリ構成

### コンポーネント分割方針

1 ファイル 200 行以内を目安に適宜コンポーネント分割を試みるくらいのゆるふわ運用です

| 種別 | 責務 | fetch | test |
| --- | --- | --- | --- |
| App Router Page | ページ単位レイアウトと全体データ取得必要に応じ Suspense や Hydration する | Server Components のみ | ❌ |
| Feature in App | アプリ内の関心事ごとの UI と機能の束。必要に応じて "use client" で境界を宣言 | Client Components のみ | ✅ 
| Common in App | アプリ内で広く共有される UI と機能 `<Breadcrumbs>、<Header>` など必要に応じて use client で境界を宣言 | Client Components のみ | ✅ 
| Design System UI | shadcn / ui からコンポーネントを生成して運用 | なし | ✅ |

### ディレクトリツリー

- Next.js App Router Page Components
  - `src/app/**/page.tsx`
- Feature Components in App
  - `src/features/**/components/*.tsx`
- Common Components in App
  - `src/components/ui-elements/*.tsx`
- Design System UI Components（shadcn / ui）
  - `src/components/ui/*.tsx`

```tree
├──src
    ├── app
    │   ├── search
    │   │   ├── layout.tsx
    │   │   ├── page.tsx（Routable）
    ├── common
    │   ├── constants（共通の定数を管理するファイル群）
    │   ├── hooks（共通のHooksを管理するファイル群）
    │   ├── libs（共通のライブラリ設定を管理するファイル群）
    │   ├── types（共通の型を定義するファイル群）
    │   └── utils（共通の関数を定義するファイル群）
    ├── components
    │   ├── layouts（レイアウトコンポーネントファイル群）
    │   ├── ui-elements（ANGLERS釣船予約で共通で使用するコンポーネントファイル群）
    │   └── ui（shadcn / ui 経由で生成したコンポーネントを定義するファイル群）
    ├── features
    │   ├── search
    │   │   ├── components
    │   │   │   ├── search-bar.tsx
    │   │   ├── hooks
    │   │   │   ├── use-search.tsx
    │   │   ├── index.ts（コンポーネントのみ export して page のファイルで呼び出す）
```

## 参考文献

- https://nextjs.org/docs/app/building-your-application/routing/colocation
- https://zenn.dev/manalink_dev/articles/bulletproof-react-is-best-architectureKazuki Kimura（deprecated）  [19:11]
コンポーネントにまつわる
ディレクトリ構成は上記の様な感じで
コンポーネント設計という観点では以下の2つですね！


co-location 構成でコンポーネントを実装する
基本的にはコンポーネント使用箇所と近くに置く
必要になったタイミングで共通化をする（YAGNI の原則）
共通化をする時のタイミングは??
3度目の法則 のタイミングで共通化をする


スタイルクローズドの原則 でコンポーネントを実装する
原則
子コンポーネントは親コンポーネントの"レイアウトのスタイル"を知ってはならない
親コンポーネントは子コンポーネントの"見た目のスタイル"を知ってはならない
なので、基本的には親側で gapプロパティ を使用してコンテンツ間の余白を定義する